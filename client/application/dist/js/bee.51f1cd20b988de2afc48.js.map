{"version":3,"sources":["webpack:///js/bee.51f1cd20b988de2afc48.js","webpack:///../application/config/setting.js?b31d","webpack:///./~/dom-helpers/util/inDOM.js?02c7","webpack:///./monitor/plugins/clicks.js","webpack:///./monitor/plugins/error.js","webpack:///./monitor/plugins/index.js","webpack:///./monitor/bee.js","webpack:///./utils/fromWeibo.js","webpack:///./utils/queryToJson.js","webpack:///./utils/weiboJSBridge/getNetworkType.js?c94c","webpack:///./~/dom-helpers/events/on.js?16fe","webpack:///./monitor/plugins/spapv.js"],"names":["webpackJsonp","../application/config/setting.js","module","exports","project_name","data_report","./node_modules/dom-helpers/util/inDOM.js","window","document","createElement","./monitor/plugins/clicks.js","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","undefined","_on","_on2","_queryToJson","_queryToJson2","ClicksCatcher","sendCb","_this","this","opts","arguments","length","name","history","hots","inited","unlistenHandler","listen","location","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","page","pathname","ishot","err","getHoney","target","hasAttribute","getAttribute","parentNode","body","isIgnore","clickHandler","evt","touch","touches","data","honeyStr","honey","x","Math","round","pageX","y","pageY","documentElement","scrollWidth","upload","navigator","msMaxTouchPoints","prototype","config","Error","./monitor/plugins/error.js","ErrorCatcher","oldOnError","onerror","message","file","line","column","error","apply","errorMsg","$CONFIG","uid","source","start","end","t","m","p","./monitor/plugins/index.js","_error","_error2","_spapv","_spapv2","_clicks","_clicks2","spapv","clicks","0","sendByFakeImage","sendURL","img","Image","onload","onabort","src","type","toString","call","slice","toLowerCase","doEscape","str","encodeURIComponent","String","replace","_index","_index2","_browserHistory","_browserHistory2","_setting","_setting2","MAX_STORE_SIZE","BEE_SEPERATOR","Bee","send","url","uploadURL","indexOf","key","version","leftVarsLen","sendList","keys","map","query","join","push","queryParams","sort","a","b","forEach","qry","plugins","init","_this2","plugin","k","monitor","bee","./utils/fromWeibo.js","test","userAgent","./utils/queryToJson.js","hasOwnProperty","prop","qs","sep","eq","options","regexp","split","maxKeys","len","i","kstr","vstr","v","idx","substr","decodeURIComponent","Array","isArray","./utils/weiboJSBridge/getNetworkType.js","assign","onSuccess","onFail","bridgeReady","WeiboJSBridge","invoke","params","success","code","network_type","./node_modules/dom-helpers/events/on.js","canUseDOM","on","addEventListener","node","eventName","handler","capture","attachEvent","./monitor/plugins/spapv.js","_getNetworkType","_getNetworkType2","_fromWeibo","_fromWeibo2","network","SpaCatcher","stat","pv","res"],"mappings":"AAAAA,cAAc,GAAG,IAEXC,mCACA,SAASC,EAAQC,GCHvB,YAUAD,GAAAC,SACAC,aAAA,SACAC,aAAA,IDUMC,2CACA,SAASJ,EAAQC,GEvBvB,YACAD,GAAAC,UAAA,mBAAAI,iBAAAC,WAAAD,OAAAC,SAAAC,gBF6BMC,8BACA,SAASR,EAAQC,EAASQ,GG/BhC,YAeA,SAAAC,GAAAC,GAAsC,MAAAA,MAAAC,WAAAD,GAAuCE,UAAAF,GAE7E,QAAAG,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAf3FC,OAAAC,eAAAlB,EAAA,cACAmB,OAAA,IAEAnB,EAAA,WAAAoB,MAEA,IAAAC,GAAAb,EAAA,2CAEAc,EAAAb,EAAAY,GAEAE,EAAAf,EAAA,0BAEAgB,EAAAf,EAAAc,GAcAE,EAAA,WACA,QAAAA,GAAAC,GACA,GAAAC,GAAAC,KAEAC,EAAAC,UAAAC,OAAA,GAAAX,SAAAU,UAAA,GAAAA,UAAA,MACAE,EAAAF,UAAA,EAEAjB,GAAAe,KAAAH,GAEAG,KAAAI,QAAA,QACA,IAAAC,GAAAJ,EAAAI,QACAC,EAAAL,EAAAK,QAEAN,MAAAO,QAAA,EAEAP,KAAAQ,gBAAAH,IAAAI,OAAA,SAAAC,GACA,GAAAC,IAAA,EACAC,GAAA,EACAC,EAAArB,MAEA,KACA,OAAAsB,GAAAC,EAAAT,EAAAU,OAAAC,cAAoEN,GAAAG,EAAAC,EAAAG,QAAAC,MAAgER,GAAA,GACpI,GAAAS,GAAAN,EAAAvB,KAEA,IAAA6B,IAAAV,EAAAW,SAEA,YADAtB,EAAAuB,OAAA,IAIa,MAAAC,GACbX,GAAA,EACAC,EAAAU,EACa,QACb,KACAZ,GAAAI,EAAA,WACAA,EAAA,YAEiB,QACjB,GAAAH,EACA,KAAAC,IAKAd,EAAAuB,OAAA,IACS,aAETtB,KAAAwB,SAAA,SAAAC,GACA,MAAAA,MAAAC,aAIAD,EAAAC,aAAA,YACAD,EAAAE,aAAA,YAEAF,EAAAG,aAAAnD,SAAAoD,KACA9B,EAAAyB,SAAAC,EAAAG,YAEA,GATA,IAaA5B,KAAA8B,SAAA,SAAAL,GACA,SAAAA,MAAAC,kBAEAD,EAAAC,aAAA,oBAGAD,EAAAG,aAAAnD,SAAAoD,MACA9B,EAAA+B,SAAAL,EAAAG,cAMA5B,KAAA+B,aAAA,SAAAC,GACA,GAAAP,GAAAO,EAAAP,OACAQ,EAAAD,EAAAE,QAAAF,EAAAE,QAAA,GAAAF,EACAG,KAGAC,EAAArC,EAAAyB,SAAAC,EAMA,IALA,KAAAW,IACAD,EAAAE,OAAA,EAAAzC,EAAA,YAAAwC,GAAA7C,OAIAQ,EAAAuB,QAAAvB,EAAA+B,SAAAL,GAAA,CACA,GAAAa,GAAAC,KAAAC,MAAAP,EAAAQ,OACAC,EAAAH,KAAAC,MAAAP,EAAAU,MACAR,GAAA7B,KAAAgC,EAAA,IAAAI,EAAA,IAAAjE,SAAAmE,gBAAAC,aAGAV,EAAAE,OAAAF,EAAA7B,OACAR,EAAAqC,IAIAnC,KAAA8C,OAAA,SAAAvD,GACAO,GACAuC,MAAA9C,IAIA,iBAAAf,gBAAAuE,UAAAC,kBAAAxE,OAAAuE,UAAAC,iBAAA,GAEA,EAAAtD,EAAA,YAAAlB,OAAA,QAAAwB,KAAA+B,cAAA,GASA,MANAlC,GAAAoD,UAAAC,OAAA,SAAApD,EAAAG,GACA,IAAAD,KAAAO,OACA,KAAA4C,OAAA,oCAIAtD,IAGAzB,GAAA,WAAAyB,EACA1B,EAAAC,UAAA,YHqCMgF,6BACA,SAASjF,EAAQC,GIxLvB,YAMA,SAAAa,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAJ3FC,OAAAC,eAAAlB,EAAA,cACAmB,OAAA,GAYA,IAAA8D,GAAA,WACA,QAAAA,GAAAvD,GACA,GACAM,IADAF,UAAAC,OAAA,GAAAX,SAAAU,UAAA,GAAAA,UAAA,MACAA,UAAA,GAEAjB,GAAAe,KAAAqD,GAEArD,KAAAI,QAAA,OACA,IAAAkD,GAAA9E,OAAA+E,OAGA/E,QAAA+E,QAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACAN,KAAAO,MAAA7D,KAAAE,UACA,IAAA4D,IAA4BvC,IAAA,EAC5BwC,SAAA,MACAD,EAAAE,IAAAD,QAAA,KAEAjE,EAAAgE,IAGA9D,KAAAO,QAAA,EAEA/B,OAAA,aACAA,OAAA,oBAAAoF,EAAAK,EAAAC,EAAAC,GACA,GAAAL,IACAM,EAAA,KACAC,EAAAT,EAAAJ,QACAc,EAAAL,EAAA,IAAAC,EAAA,IAAAC,EAAA,IAEAJ,SAAA,MACAD,EAAAE,IAAAD,QAAA,KAEAjE,EAAAgE,KAWA,MANAT,GAAAJ,UAAAC,OAAA,SAAApD,EAAAG,GACA,IAAAD,KAAAO,OACA,KAAA4C,OAAA,wCAIAE,IAGAjF,GAAA,WAAAiF,EACAlF,EAAAC,UAAA,YJ8LMmG,6BACA,SAASpG,EAAQC,EAASQ,GK7PhC,YAkBA,SAAAC,GAAAC,GAAsC,MAAAA,MAAAC,WAAAD,GAAuCE,UAAAF,GAhB7EO,OAAAC,eAAAlB,EAAA,cACAmB,OAAA,GAGA,IAAAiF,GAAA5F,EAAA,8BAEA6F,EAAA5F,EAAA2F,GAEAE,EAAA9F,EAAA,8BAEA+F,EAAA9F,EAAA6F,GAEAE,EAAAhG,EAAA,+BAEAiG,EAAAhG,EAAA+F,EAIAxG,GAAA,YACAwF,MAAAa,EAAA,WAAAK,MAAAH,EAAA,WAAAI,OAAAF,EAAA,YAMA1G,EAAAC,UAAA,YLmQM4G,EACA,SAAS7G,EAAQC,EAASQ,GM/RhC,YAcA,SAAAC,GAAAC,GAAsC,MAAAA,MAAAC,WAAAD,GAAuCE,UAAAF,GAE7E,QAAAG,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAS3F,QAAA6F,GAAAC,GAKA,GAAAC,GAAA,GAAAC,OAAA,IACAD,GAAAE,OAAAF,EAAA5B,QAAA4B,EAAAG,QAAA,WACAH,EAAAE,OAAAF,EAAA5B,QAAA4B,EAAAG,QAAA,KACAH,EAAA,MAEAA,EAAAI,IAAAL,EAGA,QAAAM,GAAA1G,GACA,aAAAA,EAAA,OACAO,OAAA4D,UAAAwC,SAAAC,KAAA5G,GAAA6G,MAAA,MAAAC,eAAA,SAGA,QAAAC,GAAAC,GACA,MAAAC,oBAAAC,OAAAF,GAAAG,QAAA,2BA1CA,GAAAC,GAAAtH,EAAA,8BAEAuH,EAAAtH,EAAAqH,GAEAE,EAAAxH,EAAA,qDAEAyH,EAAAxH,EAAAuH,GAEAE,EAAA1H,EAAA,oCAEA2H,EAAA1H,EAAAyH,GAUAE,EAAA,IACAC,EAAA,IAwBAC,EAAA,WACA,QAAAA,KACA,GAAA3G,GAAAC,IAEAf,GAAAe,KAAA0G,GAEA1G,KAAA2G,KAAA,SAAAxE,GACA,GAAAyE,GAAA7G,EAAA8G,UAAAC,QAAA,OAAA/G,EAAA8G,UAAA,IAAA9G,EAAA8G,SACAD,IAAA,OAAA7G,EAAAgH,IACAH,GAAA7G,EAAAiH,QAAA,MAAAjH,EAAAiH,QAAA,EAEA,IAAAC,GAAAT,EAAAI,EAAAzG,OACA+G,IAEA7H,QAAA8H,KAAAhF,GAAAiF,IAAA,SAAAL,GACA,GAAAxH,GAAA4C,EAAA4E,GACAM,EAAA,MAEAA,GADA,UAAA7B,EAAAjG,GACA,IAAAwH,EAAA,IAAAlB,EAAAtG,EAAA+H,KAAAb,IAEA,IAAAM,EAAA,IAAAlB,EAAAtG,GAEA2H,EAAAK,KAAAF,IAGA,IAAAG,GAAA,EACAN,GAAAO,KAAA,SAAAC,EAAAC,GACA,MAAAD,GAAAvH,OAAAwH,EAAAxH,UAAA,IACayH,QAAA,SAAAC,GACbL,EAAArH,OAAA0H,EAAA1H,OAAA8G,IACAO,IACAA,EAAAK,EACAA,EAAA,IAEA5C,EAAA2B,EAAAY,GACAA,EAAA,IAEAA,GAAAK,IAEAL,GAAAvC,EAAA2B,EAAAY,IAGAxH,KAAAgH,QAAA,GACAhH,KAAA+G,IAAA,GACA/G,KAAA6G,UAAA,+CACA7G,KAAA8H,WACA9H,KAAAO,QAAA,EAwBA,MArBAmG,GAAAzD,UAAA8E,KAAA,WACA,GAAAC,GAAAhI,KAEAC,EAAAC,UAAAC,OAAA,GAAAX,SAAAU,UAAA,GAAAA,UAAA,KAEA,OAAAF,MAAAO,WACAP,MAAA8H,QAAAF,QAAA,SAAAK,GACAA,EAAA/E,OAAA8E,EAAArB,KAAA1G,EAAAgI,EAAA7H,UAIAJ,KAAA+G,IAAA9G,KAAA8G,KAAA/G,KAAA+G,IACA/G,KAAA6G,UAAA5G,KAAA4G,WAAA7G,KAAA6G,UACAxH,OAAA8H,KAAAlH,GAAAmH,IAAA,SAAAc,GACA/B,EAAA,WAAA+B,IACAF,EAAAF,QAAAP,KAAA,GAAApB,GAAA,WAAA+B,GAAAF,EAAArB,KAAA1G,EAAAiI,cAGAlI,KAAAO,QAAA,KAGAmG,IAGA,IAAAH,EAAA,WAAA4B,SAAA5B,EAAA,WAAA4B,QAAApB,IAAA,CACA,GAAAqB,GAAA,GAAA1B,EACA0B,GAAAL,MACAjD,OACAzE,QAAAgG,EAAA,YAEAtB,QACA1E,QAAAgG,EAAA,WACA/F,KAAAiG,EAAA,WAAA4B,QAAA7H,OAAA,GAEAsD,SACAmD,IAAAR,EAAA,WAAA4B,QAAApB,MAEAvI,OAAA,WAAA4J,EAAAzB,ONsSM0B,uBACA,SAASlK,EAAQC,GO5avB,YAEAD,GAAAC,QAAA,WACA,kBAAAkK,KAAA9J,OAAAuE,UAAAwF,aPobMC,yBACA,SAASrK,EAAQC,GQxbvB,YAMA,SAAAqK,GAAA3J,EAAA4J,GACA,MAAArJ,QAAA4D,UAAAwF,eAAA/C,KAAA5G,EAAA4J,GAGAvK,EAAAC,QAAA,SAAAuK,EAAAC,EAAAC,EAAAC,GACAF,KAAA,IACAC,KAAA,GACA,IAAA/J,KAEA,oBAAA6J,IAAA,IAAAA,EAAAxI,OACA,MAAArB,EAGA,IAAAiK,GAAA,KACAJ,KAAAK,MAAAJ,EAEA,IAAAK,GAAA,GACAH,IAAA,gBAAAA,GAAAG,UACAA,EAAAH,EAAAG,QAGA,IAAAC,GAAAP,EAAAxI,MAEA8I,GAAA,GAAAC,EAAAD,IACAC,EAAAD,EAGA,QAAAE,GAAA,EAAiBA,EAAAD,IAASC,EAAA,CAC1B,GAEAC,GACAC,EACAnB,EACAoB,EALAhH,EAAAqG,EAAAQ,GAAAlD,QAAA8C,EAAA,OACAQ,EAAAjH,EAAAwE,QAAA+B,EAMAU,IAAA,GACAH,EAAA9G,EAAAkH,OAAA,EAAAD,GACAF,EAAA/G,EAAAkH,OAAAD,EAAA,KAEAH,EAAA9G,EACA+G,EAAA,IAGAnB,EAAAuB,mBAAAL,GACAE,EAAAG,mBAAAJ,GAEAZ,EAAA3J,EAAAoJ,GAEKwB,MAAAC,QAAA7K,EAAAoJ,IACLpJ,EAAAoJ,GAAAX,KAAA+B,GAEAxK,EAAAoJ,IAAApJ,EAAAoJ,GAAAoB,GAJAxK,EAAAoJ,GAAAoB,EAQA,MAAAxK,KR+bM8K,0CACA,SAASzL,EAAQC,EAASQ,GS7fhC,YAmCA,SAAAC,GAAAC,GAAsC,MAAAA,MAAAC,WAAAD,GAAuCE,UAAAF,GAjC7EO,OAAAC,eAAAlB,EAAA,cACAmB,OAAA,IAGAnB,EAAA,oBAAA6B,GACAA,EAAAZ,OAAAwK,QACAC,UAAA,aACAC,OAAA,cACK9J,EAEL,IAAA+J,GAAA,WACAxL,OAAAyL,cAAAC,OAAA,+BAAAC,EAAAC,EAAAC,GACAD,EACAnK,EAAA6J,UAAAK,EAAAG,cAEArK,EAAA8J,OAAAM,KAKA,OAAA7L,QAAAyL,kBAMAD,MALA/J,EAAA8J,OAAA,UACA,EAAArK,EAAA,YAAAjB,SAAA,qBAAAuL,IAOA,IAAAvK,GAAAb,EAAA,2CAEAc,EAAAb,EAAAY,EAuBAtB,GAAAC,UAAA,YTmgBMmM,0CACA,SAASpM,EAAQC,EAASQ,GU5jBhC,YACA,IAAA4L,GAAA5L,EAAA,4CACA6L,EAAA,YAEAD,KACAC,EAAA,WAEA,MAAAhM,UAAAiM,iBAAA,SAAAC,EAAAC,EAAAC,EAAAC,GACA,MAAAH,GAAAD,iBAAAE,EAAAC,EAAAC,IAAA,IACMrM,SAAAsM,YAAA,SAAAJ,EAAAC,EAAAC,GACN,MAAAF,GAAAI,YAAA,KAAAH,EAAAC,IADM,WAMN1M,EAAAC,QAAAqM,GVkkBMO,6BACA,SAAS7M,EAAQC,EAASQ,GWllBhC,YAeA,SAAAC,GAAAC,GAAsC,MAAAA,MAAAC,WAAAD,GAAuCE,UAAAF,GAE7E,QAAAG,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAf3FC,OAAAC,eAAAlB,EAAA,cACAmB,OAAA,IAEAnB,EAAA,WAAAoB,MAEA,IAAAyL,GAAArM,EAAA,2CAEAsM,EAAArM,EAAAoM,GAEAE,EAAAvM,EAAA,wBAEAwM,EAAAvM,EAAAsM,GAUAE,GAAA,EAEAC,EAAA,WACA,QAAAA,GAAAxL,GACA,GAAAG,GAAAC,UAAAC,OAAA,GAAAX,SAAAU,UAAA,GAAAA,UAAA,MACAE,EAAAF,UAAA,EAEAjB,GAAAe,KAAAsL,GAEAtL,KAAAI,QAAA,OACA,IAAAC,GAAAJ,EAAAI,OAEAL,MAAAQ,gBAAAH,IAAAI,OAAA,SAAAC,GACA,GAAA6K,IACAC,GAAA,EAGAzH,SAAA,MACAwH,EAAAvH,IAAAD,QAAA,KAGAsH,KAAA,EAAAD,EAAA,eACAG,EAAAF,UACAvL,EAAAyL,KAEA,EAAAL,EAAA,aACApB,UAAA,SAAA2B,GACAjN,OAAAyL,cAAAQ,GAAA,8BAAAgB,GACAJ,EAAAI,EAAAnB,eAGAe,EAAAI,EACAF,EAAAF,QAAAI,EACA3L,EAAAyL,IAEAxB,OAAA,SAAAM,GACA,MAAAA,GACAvK,EAAAyL,QAKS,aAETvL,KAAAO,QAAA,EAiBA,MAdA+K,GAAArI,UAAAC,OAAA,SAAApD,EAAAG,GACA,IAAAD,KAAAO,OACA,KAAA4C,OAAA,sCAEAnD,MAAAQ,kBACAR,KAAAQ,gBAAAP,EAAAI,QAAAJ,EAAAI,QAAAI,OAAA,SAAAC,GACA,GAAA6K,IAAwBC,GAAA,EACxBzH,SAAA,MACAwH,EAAAvH,IAAAD,QAAA,KAEAjE,EAAAyL,KACS,cAGTD,IAGAlN,GAAA,WAAAkN,EACAnN,EAAAC,UAAA","file":"js/bee.51f1cd20b988de2afc48.js","sourcesContent":["webpackJsonp([11,8],{\n\n/***/ \"../application/config/setting.js\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/* @description 项目配置文件\n\t * @version 0.1\n\t * @returns {Json} 配置参数\n\t *  'project_name': String  // 项目名称，必填\n\t *  'data_report': Bool     // 是否上报数据，可选\n\t *  'collect_action_list': Object   // 动作收集白名单，可选\n\t */\n\t\n\tmodule.exports = {\n\t  project_name: 'yywiki',\n\t  data_report: false\n\t};\n\n/***/ },\n\n/***/ \"./node_modules/dom-helpers/util/inDOM.js\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\tmodule.exports = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/***/ },\n\n/***/ \"./monitor/plugins/clicks.js\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports[\"default\"] = undefined;\n\t\n\tvar _on = __webpack_require__(\"./node_modules/dom-helpers/events/on.js\");\n\t\n\tvar _on2 = _interopRequireDefault(_on);\n\t\n\tvar _queryToJson = __webpack_require__(\"./utils/queryToJson.js\");\n\t\n\tvar _queryToJson2 = _interopRequireDefault(_queryToJson);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t; /**\n\t  * collect touchstart data\n\t  * @author xuaner\n\t  * hots: 默认touch数据不上报\n\t  * honey: 默认点击bee-honey元素上报\n\t  * <a href='javascript:;' data-bee=\"value=reward_button_h5&ext=ext1:ext2\">TestTestTestTest</a>\n\t  */\n\t\n\tvar ClicksCatcher = function () {\n\t    function ClicksCatcher(sendCb) {\n\t        var _this = this;\n\t\n\t        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var name = arguments[2];\n\t\n\t        _classCallCheck(this, ClicksCatcher);\n\t\n\t        this.name = name || 'clicks';\n\t        var history = opts.history;\n\t        var hots = opts.hots || [];\n\t\n\t        this.inited = true;\n\t\n\t        this.unlistenHandler = history ? history.listen(function (location) {\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = hots[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var page = _step.value;\n\t\n\t                    if (page === location.pathname) {\n\t                        _this.ishot = true;\n\t                        return;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n\t                        _iterator[\"return\"]();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            _this.ishot = false;\n\t        }) : function () {};\n\t\n\t        this.getHoney = function (target) {\n\t            if (!target || !target.hasAttribute) {\n\t                return '';\n\t            }\n\t\n\t            if (target.hasAttribute('data-bee')) {\n\t                return target.getAttribute('data-bee');\n\t            }\n\t            if (target.parentNode !== document.body) {\n\t                return _this.getHoney(target.parentNode);\n\t            } else {\n\t                return '';\n\t            }\n\t        };\n\t\n\t        this.isIgnore = function (target) {\n\t            if (!target || !target.hasAttribute) return false;\n\t\n\t            if (target.hasAttribute('data-bee-ignore')) {\n\t                return true;\n\t            }\n\t            if (target.parentNode !== document.body) {\n\t                return _this.isIgnore(target.parentNode);\n\t            } else {\n\t                return false;\n\t            }\n\t        };\n\t\n\t        this.clickHandler = function (evt) {\n\t            var target = evt.target;\n\t            var touch = evt.touches ? evt.touches[0] : evt;\n\t            var data = {};\n\t\n\t            //点击上报\n\t            var honeyStr = _this.getHoney(target);\n\t            if (honeyStr !== '') {\n\t                data.honey = (0, _queryToJson2[\"default\"])(honeyStr).value;\n\t            }\n\t\n\t            //热力图数据上报\n\t            if (_this.ishot && !_this.isIgnore(target)) {\n\t                var x = Math.round(touch.pageX);\n\t                var y = Math.round(touch.pageY);\n\t                data.hots = x + ',' + y + ',' + document.documentElement.scrollWidth;\n\t            }\n\t\n\t            if (data.honey || data.hots) {\n\t                sendCb(data);\n\t            }\n\t        };\n\t\n\t        this.upload = function (value) {\n\t            sendCb({\n\t                honey: value\n\t            });\n\t        };\n\t\n\t        var isTouch = 'ontouchstart' in window || window.navigator.msMaxTouchPoints && window.navigator.msMaxTouchPoints > 0;\n\t        //on(window, isTouch ? \"touchstart\" : \"click\", this.clickHandler, true);  \n\t        (0, _on2[\"default\"])(window, 'click', this.clickHandler, true);\n\t    }\n\t\n\t    ClicksCatcher.prototype.config = function config(sendCb, opts) {\n\t        if (!this.inited) {\n\t            throw Error('plugin clicks has not init yet!');\n\t        }\n\t    };\n\t\n\t    return ClicksCatcher;\n\t}();\n\t\n\texports[\"default\"] = ClicksCatcher;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"./monitor/plugins/error.js\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * 利用window.onerror来上报错误信息\n\t * @params opts - object,\n\t * example: { recordStack: true }\n\t * @author MrGalaxyn\n\t */\n\t\n\tvar ErrorCatcher = function () {\n\t    function ErrorCatcher(sendCb) {\n\t        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var name = arguments[2];\n\t\n\t        _classCallCheck(this, ErrorCatcher);\n\t\n\t        this.name = name || 'error';\n\t        var oldOnError = window.onerror;\n\t\n\t        // error 信息需要实时上报\n\t        window.onerror = function (message, file, line, column, error) {\n\t            oldOnError && oldOnError.apply(this, arguments);\n\t            var errorMsg = { err: 1 };\n\t            if ($CONFIG['uid']) {\n\t                errorMsg.uid = $CONFIG['uid'];\n\t            }\n\t            sendCb(errorMsg);\n\t        };\n\t\n\t        this.inited = true;\n\t\n\t        if (!window['__report__']) {\n\t            window['__report__'] = function (error, source, start, end) {\n\t                var errorMsg = {\n\t                    t: 're', // short for window error\n\t                    m: error.message,\n\t                    p: source + '[' + start + ',' + end + ']'\n\t                };\n\t                if ($CONFIG['uid']) {\n\t                    errorMsg.uid = $CONFIG['uid'];\n\t                }\n\t                sendCb(errorMsg);\n\t            };\n\t        }\n\t    }\n\t\n\t    ErrorCatcher.prototype.config = function config(sendCb, opts) {\n\t        if (!this.inited) {\n\t            throw Error('plugin SpaCatcher has not init yet!');\n\t        }\n\t    };\n\t\n\t    return ErrorCatcher;\n\t}();\n\t\n\texports[\"default\"] = ErrorCatcher;\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"./monitor/plugins/index.js\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _error = __webpack_require__(\"./monitor/plugins/error.js\");\n\t\n\tvar _error2 = _interopRequireDefault(_error);\n\t\n\tvar _spapv = __webpack_require__(\"./monitor/plugins/spapv.js\");\n\t\n\tvar _spapv2 = _interopRequireDefault(_spapv);\n\t\n\tvar _clicks = __webpack_require__(\"./monitor/plugins/clicks.js\");\n\t\n\tvar _clicks2 = _interopRequireDefault(_clicks);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\texports[\"default\"] = {\n\t  error: _error2[\"default\"], spapv: _spapv2[\"default\"], clicks: _clicks2[\"default\"]\n\t}; /**\n\t    * 汇总函数\n\t    * @author MrGalaxyn\n\t    */\n\t\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _index = __webpack_require__(\"./monitor/plugins/index.js\");\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _browserHistory = __webpack_require__(\"./node_modules/react-router/lib/browserHistory.js\");\n\t\n\tvar _browserHistory2 = _interopRequireDefault(_browserHistory);\n\t\n\tvar _setting = __webpack_require__(\"../application/config/setting.js\");\n\t\n\tvar _setting2 = _interopRequireDefault(_setting);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * bee - page data collection\n\t                                                                                                                                                           * @author MrGalaxyn\n\t                                                                                                                                                           */\n\t\n\t\n\tvar MAX_STORE_SIZE = 2000;\n\tvar BEE_SEPERATOR = '|';\n\t\n\tfunction sendByFakeImage(sendURL) {\n\t    if (false) {\n\t        return;\n\t    }\n\t\n\t    var img = new Image(1, 1);\n\t    img.onload = img.onerror = img.onabort = function () {\n\t        img.onload = img.onerror = img.onabort = null;\n\t        img = null;\n\t    };\n\t    img.src = sendURL;\n\t}\n\t\n\tfunction type(obj) {\n\t    if (obj == null) return \"null\";\n\t    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() || \"object\";\n\t}\n\t\n\tfunction doEscape(str) {\n\t    return encodeURIComponent(String(str).replace(/(?:\\r\\n|\\r|\\n)/g, \"<CR>\"));\n\t}\n\t\n\tvar Bee = function () {\n\t    function Bee() {\n\t        var _this = this;\n\t\n\t        _classCallCheck(this, Bee);\n\t\n\t        this.send = function (data) {\n\t            var url = _this.uploadURL.indexOf('?') < 0 ? _this.uploadURL + '?' : _this.uploadURL;\n\t            url += 'key=' + _this.key;\n\t            url += _this.version ? '&v=' + _this.version : '';\n\t\n\t            var leftVarsLen = MAX_STORE_SIZE - url.length;\n\t            var sendList = [];\n\t\n\t            Object.keys(data).map(function (key) {\n\t                var value = data[key];\n\t                var query = void 0;\n\t                if (type(value) === \"array\") {\n\t                    query = \"&\" + key + \"=\" + doEscape(value.join(BEE_SEPERATOR));\n\t                } else {\n\t                    query = \"&\" + key + \"=\" + doEscape(value);\n\t                }\n\t                sendList.push(query);\n\t            });\n\t\n\t            var queryParams = '';\n\t            sendList.sort(function (a, b) {\n\t                return a.length < b.length ? -1 : 1;\n\t            }).forEach(function (qry) {\n\t                if (queryParams.length + qry.length > leftVarsLen) {\n\t                    if (!queryParams) {\n\t                        queryParams = qry;\n\t                        qry = \"\";\n\t                    }\n\t                    sendByFakeImage(url + queryParams);\n\t                    queryParams = \"\";\n\t                }\n\t                queryParams += qry;\n\t            });\n\t            queryParams && sendByFakeImage(url + queryParams);\n\t        };\n\t\n\t        this.version = '';\n\t        this.key = '';\n\t        this.uploadURL = 'http://letsgo.e.weibo.com/stracker/fe/report';\n\t        this.plugins = [];\n\t        this.inited = false;\n\t    }\n\t\n\t    Bee.prototype.init = function init() {\n\t        var _this2 = this;\n\t\n\t        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        if (this.inited) {\n\t            this.plugins.forEach(function (plugin) {\n\t                plugin.config(_this2.send, opts[plugin.name]);\n\t            });\n\t            return;\n\t        }\n\t        this.key = opts && opts.key || this.key;\n\t        this.uploadURL = opts && opts.uploadURL || this.uploadURL;\n\t        Object.keys(opts).map(function (k) {\n\t            if (_index2[\"default\"][k]) {\n\t                _this2.plugins.push(new _index2[\"default\"][k](_this2.send, opts[k], k));\n\t            }\n\t        });\n\t        this.inited = true;\n\t    };\n\t\n\t    return Bee;\n\t}();\n\t\n\tif (_setting2[\"default\"].monitor && _setting2[\"default\"].monitor.key) {\n\t    var bee = new Bee();\n\t    bee.init({\n\t        spapv: {\n\t            history: _browserHistory2[\"default\"]\n\t        },\n\t        clicks: {\n\t            history: _browserHistory2[\"default\"],\n\t            hots: _setting2[\"default\"].monitor.hots || false\n\t        },\n\t        error: {},\n\t        key: _setting2[\"default\"].monitor.key\n\t    });\n\t    window['__logger__'] = bee.send;\n\t}\n\n/***/ },\n\n/***/ \"./utils/fromWeibo.js\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function () {\n\t  return (/_weibo_/ig.test(window.navigator.userAgent)\n\t  );\n\t};\n\n/***/ },\n\n/***/ \"./utils/queryToJson.js\":\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// If obj.hasOwnProperty has been overridden, then calling\n\t// obj.hasOwnProperty(prop) will break.\n\t// See: https://github.com/joyent/node/issues/1707\n\t\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\tmodule.exports = function (qs, sep, eq, options) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  var obj = {};\n\t\n\t  if (typeof qs !== 'string' || qs.length === 0) {\n\t    return obj;\n\t  }\n\t\n\t  var regexp = /\\+/g;\n\t  qs = qs.split(sep);\n\t\n\t  var maxKeys = 1000;\n\t  if (options && typeof options.maxKeys === 'number') {\n\t    maxKeys = options.maxKeys;\n\t  }\n\t\n\t  var len = qs.length;\n\t  // maxKeys <= 0 means that we should not limit keys count\n\t  if (maxKeys > 0 && len > maxKeys) {\n\t    len = maxKeys;\n\t  }\n\t\n\t  for (var i = 0; i < len; ++i) {\n\t    var x = qs[i].replace(regexp, '%20'),\n\t        idx = x.indexOf(eq),\n\t        kstr,\n\t        vstr,\n\t        k,\n\t        v;\n\t\n\t    if (idx >= 0) {\n\t      kstr = x.substr(0, idx);\n\t      vstr = x.substr(idx + 1);\n\t    } else {\n\t      kstr = x;\n\t      vstr = '';\n\t    }\n\t\n\t    k = decodeURIComponent(kstr);\n\t    v = decodeURIComponent(vstr);\n\t\n\t    if (!hasOwnProperty(obj, k)) {\n\t      obj[k] = v;\n\t    } else if (Array.isArray(obj[k])) {\n\t      obj[k].push(v);\n\t    } else {\n\t      obj[k] = [obj[k], v];\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\n/***/ },\n\n/***/ \"./utils/weiboJSBridge/getNetworkType.js\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports[\"default\"] = function (opts) {\n\t    opts = Object.assign({\n\t        onSuccess: function onSuccess() {},\n\t        onFail: function onFail() {}\n\t    }, opts);\n\t\n\t    var bridgeReady = function bridgeReady() {\n\t        window.WeiboJSBridge.invoke(\"getNetworkType\", null, function (params, success, code) {\n\t            if (success) {\n\t                opts.onSuccess(params.network_type);\n\t            } else {\n\t                opts.onFail(code);\n\t            }\n\t        });\n\t    };\n\t\n\t    if (!window.WeiboJSBridge) {\n\t        opts.onFail(100);\n\t        (0, _on2[\"default\"])(document, 'WeiboJSBridgeReady', bridgeReady);\n\t        return;\n\t    }\n\t\n\t    bridgeReady();\n\t};\n\t\n\tvar _on = __webpack_require__(\"./node_modules/dom-helpers/events/on.js\");\n\t\n\tvar _on2 = _interopRequireDefault(_on);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\t/**\n\t * 获取网络状态\n\t * @param {Object} opts\n\t * @param {Function} opts.onSuccess 执行成功回调\n\t * @param {Function} opts.onFail 执行失败回调\n\t * @return wwan 代表 2G 或 3G， wifi 代表 WIFI, fail 代表无网络\n\t * @weibo >=4.3.0\n\t * @Auther MrGalaxyn\n\t * 错误码\n\t    代码        Status Code           含义\n\t    200         OK                  操作成功\n\t    400         MISSING_PARAMS      缺少必须的参数\n\t    403         ILLEGAL_ACCESS      非法调用\n\t    500         INTERNAL_ERROR      客户端内部处理错误\n\t    501         ACTION_NOT_FOUND    客户端未实现此 action\n\t    550         NO_RESULT           客户端没有获取到结果\n\t    550         USER_CANCELLED      用户取消了操作\n\t    553         SERVICE_FORBIDDEN   相关服务未启用或被禁止 (如定位服务，相册权限)\n\t */\n\tmodule.exports = exports['default'];\n\n/***/ },\n\n/***/ \"./node_modules/dom-helpers/events/on.js\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\tvar canUseDOM = __webpack_require__(\"./node_modules/dom-helpers/util/inDOM.js\");\n\tvar on = function on() {};\n\t\n\tif (canUseDOM) {\n\t  on = (function () {\n\t\n\t    if (document.addEventListener) return function (node, eventName, handler, capture) {\n\t      return node.addEventListener(eventName, handler, capture || false);\n\t    };else if (document.attachEvent) return function (node, eventName, handler) {\n\t      return node.attachEvent('on' + eventName, handler);\n\t    };\n\t  })();\n\t}\n\t\n\tmodule.exports = on;\n\n/***/ },\n\n/***/ \"./monitor/plugins/spapv.js\":\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports[\"default\"] = undefined;\n\t\n\tvar _getNetworkType = __webpack_require__(\"./utils/weiboJSBridge/getNetworkType.js\");\n\t\n\tvar _getNetworkType2 = _interopRequireDefault(_getNetworkType);\n\t\n\tvar _fromWeibo = __webpack_require__(\"./utils/fromWeibo.js\");\n\t\n\tvar _fromWeibo2 = _interopRequireDefault(_fromWeibo);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * bee - page data collection\n\t                                                                                                                                                           * @author MrGalaxyn\n\t                                                                                                                                                           */\n\t\n\t\n\tvar network = false;\n\t\n\tvar SpaCatcher = function () {\n\t    function SpaCatcher(sendCb) {\n\t        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t        var name = arguments[2];\n\t\n\t        _classCallCheck(this, SpaCatcher);\n\t\n\t        this.name = name || 'spapv';\n\t        var history = opts.history;\n\t\n\t        this.unlistenHandler = history ? history.listen(function (location) {\n\t            var stat = {\n\t                pv: 1\n\t            };\n\t\n\t            if ($CONFIG['uid']) {\n\t                stat.uid = $CONFIG['uid'];\n\t            }\n\t\n\t            if (network || !(0, _fromWeibo2[\"default\"])()) {\n\t                stat.network = network;\n\t                sendCb(stat);\n\t            } else {\n\t                (0, _getNetworkType2[\"default\"])({\n\t                    onSuccess: function onSuccess(res) {\n\t                        window.WeiboJSBridge.on('networkTypeChanged', function (res) {\n\t                            network = res.network_type;\n\t                        });\n\t\n\t                        network = res;\n\t                        stat.network = res;\n\t                        sendCb(stat);\n\t                    },\n\t                    onFail: function onFail(code) {\n\t                        if (code !== 100) {\n\t                            sendCb(stat);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        }) : function () {};\n\t\n\t        this.inited = true;\n\t    }\n\t\n\t    SpaCatcher.prototype.config = function config(sendCb, opts) {\n\t        if (!this.inited) {\n\t            throw Error('plugin SpaCatcher has not init yet!');\n\t        }\n\t        this.unlistenHandler();\n\t        this.unlistenHandler = opts.history ? opts.history.listen(function (location) {\n\t            var stat = { pv: 1 };\n\t            if ($CONFIG['uid']) {\n\t                stat.uid = $CONFIG['uid'];\n\t            }\n\t            sendCb(stat);\n\t        }) : function () {};\n\t    };\n\t\n\t    return SpaCatcher;\n\t}();\n\t\n\texports[\"default\"] = SpaCatcher;\n\tmodule.exports = exports['default'];\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/bee.51f1cd20b988de2afc48.js\n **/","'use strict';\n\n/* @description 项目配置文件\n * @version 0.1\n * @returns {Json} 配置参数\n *  'project_name': String  // 项目名称，必填\n *  'data_report': Bool     // 是否上报数据，可选\n *  'collect_action_list': Object   // 动作收集白名单，可选\n */\n\nmodule.exports = {\n  project_name: 'yywiki',\n  data_report: false\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../application/config/setting.js\n ** module id = ../application/config/setting.js\n ** module chunks = 10 11\n **/","'use strict';\nmodule.exports = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dom-helpers/util/inDOM.js\n ** module id = ./node_modules/dom-helpers/util/inDOM.js\n ** module chunks = 10 11\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = undefined;\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _queryToJson = require('utils/queryToJson');\n\nvar _queryToJson2 = _interopRequireDefault(_queryToJson);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n; /**\n  * collect touchstart data\n  * @author xuaner\n  * hots: 默认touch数据不上报\n  * honey: 默认点击bee-honey元素上报\n  * <a href='javascript:;' data-bee=\"value=reward_button_h5&ext=ext1:ext2\">TestTestTestTest</a>\n  */\n\nvar ClicksCatcher = function () {\n    function ClicksCatcher(sendCb) {\n        var _this = this;\n\n        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var name = arguments[2];\n\n        _classCallCheck(this, ClicksCatcher);\n\n        this.name = name || 'clicks';\n        var history = opts.history;\n        var hots = opts.hots || [];\n\n        this.inited = true;\n\n        this.unlistenHandler = history ? history.listen(function (location) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = hots[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var page = _step.value;\n\n                    if (page === location.pathname) {\n                        _this.ishot = true;\n                        return;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n                        _iterator[\"return\"]();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            _this.ishot = false;\n        }) : function () {};\n\n        this.getHoney = function (target) {\n            if (!target || !target.hasAttribute) {\n                return '';\n            }\n\n            if (target.hasAttribute('data-bee')) {\n                return target.getAttribute('data-bee');\n            }\n            if (target.parentNode !== document.body) {\n                return _this.getHoney(target.parentNode);\n            } else {\n                return '';\n            }\n        };\n\n        this.isIgnore = function (target) {\n            if (!target || !target.hasAttribute) return false;\n\n            if (target.hasAttribute('data-bee-ignore')) {\n                return true;\n            }\n            if (target.parentNode !== document.body) {\n                return _this.isIgnore(target.parentNode);\n            } else {\n                return false;\n            }\n        };\n\n        this.clickHandler = function (evt) {\n            var target = evt.target;\n            var touch = evt.touches ? evt.touches[0] : evt;\n            var data = {};\n\n            //点击上报\n            var honeyStr = _this.getHoney(target);\n            if (honeyStr !== '') {\n                data.honey = (0, _queryToJson2[\"default\"])(honeyStr).value;\n            }\n\n            //热力图数据上报\n            if (_this.ishot && !_this.isIgnore(target)) {\n                var x = Math.round(touch.pageX);\n                var y = Math.round(touch.pageY);\n                data.hots = x + ',' + y + ',' + document.documentElement.scrollWidth;\n            }\n\n            if (data.honey || data.hots) {\n                sendCb(data);\n            }\n        };\n\n        this.upload = function (value) {\n            sendCb({\n                honey: value\n            });\n        };\n\n        var isTouch = 'ontouchstart' in window || window.navigator.msMaxTouchPoints && window.navigator.msMaxTouchPoints > 0;\n        //on(window, isTouch ? \"touchstart\" : \"click\", this.clickHandler, true);  \n        (0, _on2[\"default\"])(window, 'click', this.clickHandler, true);\n    }\n\n    ClicksCatcher.prototype.config = function config(sendCb, opts) {\n        if (!this.inited) {\n            throw Error('plugin clicks has not init yet!');\n        }\n    };\n\n    return ClicksCatcher;\n}();\n\nexports[\"default\"] = ClicksCatcher;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./monitor/plugins/clicks.js\n ** module id = ./monitor/plugins/clicks.js\n ** module chunks = 11\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * 利用window.onerror来上报错误信息\n * @params opts - object,\n * example: { recordStack: true }\n * @author MrGalaxyn\n */\n\nvar ErrorCatcher = function () {\n    function ErrorCatcher(sendCb) {\n        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var name = arguments[2];\n\n        _classCallCheck(this, ErrorCatcher);\n\n        this.name = name || 'error';\n        var oldOnError = window.onerror;\n\n        // error 信息需要实时上报\n        window.onerror = function (message, file, line, column, error) {\n            oldOnError && oldOnError.apply(this, arguments);\n            var errorMsg = { err: 1 };\n            if ($CONFIG['uid']) {\n                errorMsg.uid = $CONFIG['uid'];\n            }\n            sendCb(errorMsg);\n        };\n\n        this.inited = true;\n\n        if (!window['__report__']) {\n            window['__report__'] = function (error, source, start, end) {\n                var errorMsg = {\n                    t: 're', // short for window error\n                    m: error.message,\n                    p: source + '[' + start + ',' + end + ']'\n                };\n                if ($CONFIG['uid']) {\n                    errorMsg.uid = $CONFIG['uid'];\n                }\n                sendCb(errorMsg);\n            };\n        }\n    }\n\n    ErrorCatcher.prototype.config = function config(sendCb, opts) {\n        if (!this.inited) {\n            throw Error('plugin SpaCatcher has not init yet!');\n        }\n    };\n\n    return ErrorCatcher;\n}();\n\nexports[\"default\"] = ErrorCatcher;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./monitor/plugins/error.js\n ** module id = ./monitor/plugins/error.js\n ** module chunks = 11\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _error = require('./error');\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _spapv = require('./spapv');\n\nvar _spapv2 = _interopRequireDefault(_spapv);\n\nvar _clicks = require('./clicks');\n\nvar _clicks2 = _interopRequireDefault(_clicks);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nexports[\"default\"] = {\n  error: _error2[\"default\"], spapv: _spapv2[\"default\"], clicks: _clicks2[\"default\"]\n}; /**\n    * 汇总函数\n    * @author MrGalaxyn\n    */\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./monitor/plugins/index.js\n ** module id = ./monitor/plugins/index.js\n ** module chunks = 11\n **/","'use strict';\n\nvar _index = require('./plugins/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _browserHistory = require('react-router/lib/browserHistory');\n\nvar _browserHistory2 = _interopRequireDefault(_browserHistory);\n\nvar _setting = require('config/setting');\n\nvar _setting2 = _interopRequireDefault(_setting);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n                                                                                                                                                           * bee - page data collection\n                                                                                                                                                           * @author MrGalaxyn\n                                                                                                                                                           */\n\n\nvar MAX_STORE_SIZE = 2000;\nvar BEE_SEPERATOR = '|';\n\nfunction sendByFakeImage(sendURL) {\n    if (process.env.DEBUG === 'true') {\n        return;\n    }\n\n    var img = new Image(1, 1);\n    img.onload = img.onerror = img.onabort = function () {\n        img.onload = img.onerror = img.onabort = null;\n        img = null;\n    };\n    img.src = sendURL;\n}\n\nfunction type(obj) {\n    if (obj == null) return \"null\";\n    return Object.prototype.toString.call(obj).slice(8, -1).toLowerCase() || \"object\";\n}\n\nfunction doEscape(str) {\n    return encodeURIComponent(String(str).replace(/(?:\\r\\n|\\r|\\n)/g, \"<CR>\"));\n}\n\nvar Bee = function () {\n    function Bee() {\n        var _this = this;\n\n        _classCallCheck(this, Bee);\n\n        this.send = function (data) {\n            var url = _this.uploadURL.indexOf('?') < 0 ? _this.uploadURL + '?' : _this.uploadURL;\n            url += 'key=' + _this.key;\n            url += _this.version ? '&v=' + _this.version : '';\n\n            var leftVarsLen = MAX_STORE_SIZE - url.length;\n            var sendList = [];\n\n            Object.keys(data).map(function (key) {\n                var value = data[key];\n                var query = void 0;\n                if (type(value) === \"array\") {\n                    query = \"&\" + key + \"=\" + doEscape(value.join(BEE_SEPERATOR));\n                } else {\n                    query = \"&\" + key + \"=\" + doEscape(value);\n                }\n                sendList.push(query);\n            });\n\n            var queryParams = '';\n            sendList.sort(function (a, b) {\n                return a.length < b.length ? -1 : 1;\n            }).forEach(function (qry) {\n                if (queryParams.length + qry.length > leftVarsLen) {\n                    if (!queryParams) {\n                        queryParams = qry;\n                        qry = \"\";\n                    }\n                    sendByFakeImage(url + queryParams);\n                    queryParams = \"\";\n                }\n                queryParams += qry;\n            });\n            queryParams && sendByFakeImage(url + queryParams);\n        };\n\n        this.version = '';\n        this.key = '';\n        this.uploadURL = 'http://letsgo.e.weibo.com/stracker/fe/report';\n        this.plugins = [];\n        this.inited = false;\n    }\n\n    Bee.prototype.init = function init() {\n        var _this2 = this;\n\n        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        if (this.inited) {\n            this.plugins.forEach(function (plugin) {\n                plugin.config(_this2.send, opts[plugin.name]);\n            });\n            return;\n        }\n        this.key = opts && opts.key || this.key;\n        this.uploadURL = opts && opts.uploadURL || this.uploadURL;\n        Object.keys(opts).map(function (k) {\n            if (_index2[\"default\"][k]) {\n                _this2.plugins.push(new _index2[\"default\"][k](_this2.send, opts[k], k));\n            }\n        });\n        this.inited = true;\n    };\n\n    return Bee;\n}();\n\nif (_setting2[\"default\"].monitor && _setting2[\"default\"].monitor.key) {\n    var bee = new Bee();\n    bee.init({\n        spapv: {\n            history: _browserHistory2[\"default\"]\n        },\n        clicks: {\n            history: _browserHistory2[\"default\"],\n            hots: _setting2[\"default\"].monitor.hots || false\n        },\n        error: {},\n        key: _setting2[\"default\"].monitor.key\n    });\n    window['__logger__'] = bee.send;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./monitor/bee.js\n ** module id = 0\n ** module chunks = 11\n **/","'use strict';\n\nmodule.exports = function () {\n  return (/_weibo_/ig.test(window.navigator.userAgent)\n  );\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/fromWeibo.js\n ** module id = ./utils/fromWeibo.js\n ** module chunks = 11\n **/","'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function (qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr,\n        vstr,\n        k,\n        v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/queryToJson.js\n ** module id = ./utils/queryToJson.js\n ** module chunks = 11\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports[\"default\"] = function (opts) {\n    opts = Object.assign({\n        onSuccess: function onSuccess() {},\n        onFail: function onFail() {}\n    }, opts);\n\n    var bridgeReady = function bridgeReady() {\n        window.WeiboJSBridge.invoke(\"getNetworkType\", null, function (params, success, code) {\n            if (success) {\n                opts.onSuccess(params.network_type);\n            } else {\n                opts.onFail(code);\n            }\n        });\n    };\n\n    if (!window.WeiboJSBridge) {\n        opts.onFail(100);\n        (0, _on2[\"default\"])(document, 'WeiboJSBridgeReady', bridgeReady);\n        return;\n    }\n\n    bridgeReady();\n};\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * 获取网络状态\n * @param {Object} opts\n * @param {Function} opts.onSuccess 执行成功回调\n * @param {Function} opts.onFail 执行失败回调\n * @return wwan 代表 2G 或 3G， wifi 代表 WIFI, fail 代表无网络\n * @weibo >=4.3.0\n * @Auther MrGalaxyn\n * 错误码\n    代码        Status Code           含义\n    200         OK                  操作成功\n    400         MISSING_PARAMS      缺少必须的参数\n    403         ILLEGAL_ACCESS      非法调用\n    500         INTERNAL_ERROR      客户端内部处理错误\n    501         ACTION_NOT_FOUND    客户端未实现此 action\n    550         NO_RESULT           客户端没有获取到结果\n    550         USER_CANCELLED      用户取消了操作\n    553         SERVICE_FORBIDDEN   相关服务未启用或被禁止 (如定位服务，相册权限)\n */\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./utils/weiboJSBridge/getNetworkType.js\n ** module id = ./utils/weiboJSBridge/getNetworkType.js\n ** module chunks = 6 11\n **/","'use strict';\nvar canUseDOM = require('../util/inDOM');\nvar on = function on() {};\n\nif (canUseDOM) {\n  on = (function () {\n\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.addEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.attachEvent('on' + eventName, handler);\n    };\n  })();\n}\n\nmodule.exports = on;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dom-helpers/events/on.js\n ** module id = ./node_modules/dom-helpers/events/on.js\n ** module chunks = 10 11\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports[\"default\"] = undefined;\n\nvar _getNetworkType = require('utils/weiboJSBridge/getNetworkType');\n\nvar _getNetworkType2 = _interopRequireDefault(_getNetworkType);\n\nvar _fromWeibo = require('utils/fromWeibo');\n\nvar _fromWeibo2 = _interopRequireDefault(_fromWeibo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n                                                                                                                                                           * bee - page data collection\n                                                                                                                                                           * @author MrGalaxyn\n                                                                                                                                                           */\n\n\nvar network = false;\n\nvar SpaCatcher = function () {\n    function SpaCatcher(sendCb) {\n        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var name = arguments[2];\n\n        _classCallCheck(this, SpaCatcher);\n\n        this.name = name || 'spapv';\n        var history = opts.history;\n\n        this.unlistenHandler = history ? history.listen(function (location) {\n            var stat = {\n                pv: 1\n            };\n\n            if ($CONFIG['uid']) {\n                stat.uid = $CONFIG['uid'];\n            }\n\n            if (network || !(0, _fromWeibo2[\"default\"])()) {\n                stat.network = network;\n                sendCb(stat);\n            } else {\n                (0, _getNetworkType2[\"default\"])({\n                    onSuccess: function onSuccess(res) {\n                        window.WeiboJSBridge.on('networkTypeChanged', function (res) {\n                            network = res.network_type;\n                        });\n\n                        network = res;\n                        stat.network = res;\n                        sendCb(stat);\n                    },\n                    onFail: function onFail(code) {\n                        if (code !== 100) {\n                            sendCb(stat);\n                        }\n                    }\n                });\n            }\n        }) : function () {};\n\n        this.inited = true;\n    }\n\n    SpaCatcher.prototype.config = function config(sendCb, opts) {\n        if (!this.inited) {\n            throw Error('plugin SpaCatcher has not init yet!');\n        }\n        this.unlistenHandler();\n        this.unlistenHandler = opts.history ? opts.history.listen(function (location) {\n            var stat = { pv: 1 };\n            if ($CONFIG['uid']) {\n                stat.uid = $CONFIG['uid'];\n            }\n            sendCb(stat);\n        }) : function () {};\n    };\n\n    return SpaCatcher;\n}();\n\nexports[\"default\"] = SpaCatcher;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./monitor/plugins/spapv.js\n ** module id = ./monitor/plugins/spapv.js\n ** module chunks = 11\n **/"],"sourceRoot":""}